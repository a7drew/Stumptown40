<!DOCTYPE html>
<html>
<head>
    <title>3rd Annual Stumptown 40 - May 16th 2012</title>
	<link href="css/reset.css" rel="stylesheet" type="text/css" />
	<link href="css/public.css" rel="stylesheet" type="text/css" />
</head>
<body>
	
	<div id="racerApp">
		<nav>
			<ul>
				<li><a href="#home">Stumptown 40</a></li>
				<li><a href="#brackets">brackets</a></li>
				<li><a href="#people">racers</a></li>
				<li><a href="#sponsors">sponsors</a></li>
			</ul>
		</nav>
		
		<section id="main">
		</section>

	</div>

	<script type="text/template" id="home-template">
		<div id="homeTemplate" class="view">
			<p class="templateName">This is the home template.</p>
		</div>
	</script>

	<script type="text/template" id="bracket-template">
		<div id="bracketTemplate" class="view bracketTemplate">
			<p class="templateName">This is the bracket template.</p>
			<% _.each(list, function(item) { %>
				<div><a href="#brackets/<%= item.BracketId %>"><%= item.Name %></a></div>
			<% }); %>
			<ul>
		</div>
	</script>

	<script type="text/template" id="round-template">
		<div id="roundTemplate" class="view roundTemplate">
			<p class="templateName">This is the round template.</p>
			<p><a href="#brackets">Back to List</a></p>

			<% _.each(list, function(item) { %>
				<div class="round">
					<% if(item.IsDone) { %>
							&#10003;
					<% } %>
					<a href="#rounds/<%= item.RoundId %>">Round <%= item.RoundNumber %></a>
				</div>
			<% }); %>

		</div>
	</script>
	
	<script type="text/template" id="match-header-template">
		<div id="matchHeader" class="view matchHeader">
			<p class="templateName">This is the match header template.</p>
			<p><a href="#brackets/<%= model.BracketId %>">Back to List</a></p>
            <h1>RoundNumber: <%= model.RoundNumber %></h1>
			<% if (model.RoundId === 18) { %>
				<p>The winner of this race goes to the final championship round.</p>
				<p>The loser of this race gets 3rd place.</p>
			<% } %>
			<% if (model.RoundId === 19) { %>
				<p>The top racer is unbeaten.</p>
				<p>If the top racer wins this match, they get first place.</p>
				<p>If the top racer loses this match, we race one final match.</p>
			<% } %>
			<% if (model.RoundId === 20) { %>
				<p>This is the final match.</p>
				<p>The winner gets first place.</p>
				<p>The loser gets second place.</p>
			<% } %>
		</div>
	</script>

	<script type="text/template" id="match-template">
		<div id="matchList" class="view matchList">
			<p class="templateName">This is the match template.</p>

			<% _.each(list, function(item) { %>
				<div class="matchup">
					<a href="#matches/<%= item.MatchId %>">
						<% if(item.Racer1.RacerId === 0) { %>
							<p class="unknownRacer">???</p>
						<% } else { %>
							<p>#<%= item.Racer1.RacerId %> <%= item.Racer1.Name %> <% if(item.Winner.RacerId === item.Racer1.RacerId) { %><span>&#10003;</span><% } %></p>
						<% } %>
                        <% if(item.Racer2.RacerId === 0) { %>
							<p class="unknownRacer">???</p>
						<% } else { %>
							<p>#<%= item.Racer2.RacerId %> <%= item.Racer2.Name %> <% if(item.Winner.RacerId === item.Racer2.RacerId) { %><span>&#10003;</span><% } %></p>
						<% } %>
                    </a>
				</div>
			<% }); %>
			
			<div class="clearBoth"></div>

		</div>
	</script>

	<script type="text/template" id="race-template">
		<div id="raceTemplate" class="view raceTemplate">
			<p class="templateName">This is the race template.</p>
            <p><a href="#rounds/<%= model.RoundId %>">Back to List</a></p>
            <p>RoundNumber: <%= model.RoundNumber %></p>
            <p>RaceNumber: <%= model.RaceNumber %></p>
			<div class="racers">
				<div class="racer1">
					<div class="name">
						#<%= model.Racer1.RacerId %>
						<a id="racer1Won" data-matchId="<%= model.MatchId %>" data-racerId="<%= model.Racer1.RacerId %>" href="javascript:;"><%= model.Racer1.Name %></a>
					</div>
					<img src="/racers/carphoto/<%= model.Racer1.RacerId %>" alt="" class="car" />
				</div>
				<div class="racer2">
					<div class="name">
						#<%= model.Racer2.RacerId %>
						<a id="racer2Won" data-matchId="<%= model.MatchId %>" data-racerId="<%= model.Racer2.RacerId %>" href="javascript:;"><%= model.Racer2.Name %></a>
					</div>
					<img src="/racers/carphoto/<%= model.Racer2.RacerId %>" class="car" alt="" />
				</div>
				
				<div id="winner">
					Winner:
					<span>
						#<%= model.Winner.RacerId %> <%= model.Winner.Name %>
					</span>
				</div>

			</div>
		</div>
	</script>
	
	<script type="text/template" id="people-template">
		<div id="peopleTemplate" class="view">
			<p class="templateName">This is the people template.</p>
			<ul>
				<% _.each(list, function(item) { %>
					<li>#<%= item.RacerId %> &ndash; <%= item.Name %></li>
				<% }); %>
			</ul>
		</div>
	</script>
	
	<script type="text/template" id="sponsor-template">
		<div id="sponsorTemplate" class="view sponsorTemplate">
			<p class="templateName">This is the sponsor template.</p>
			<div><a href="#fakesponsors"><img src="/content/images/sponsors.png" alt="" /></a></div>
		</div>
	</script>
	
	<script type="text/template" id="fakesponsor-template">
		<div id="fakeSponsorTemplate" class="view fakeSponsorTemplate">
			<p class="templateName">This is the fake sponsor template.</p>
			<h1>Additional Sponsors</h1>
			<div class="item">
				<h1>The HTML &lt;TABLE&gt; tag.</h1>
				<h3>Destroying layouts since HTML 1.0</h3>
			</div>
		</div>
	</script>

	<script src="scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
	<script src="scripts/underscore.min.js" type="text/javascript"></script>
	<script src="scripts/backbone.min.js" type="text/javascript"></script>
	<script src="scripts/json2.min.js" type="text/javascript"></script>
	<script src="scripts/custom.js" type="text/javascript"></script>

</body>
</html>
